<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<body>

<div class="card border m-3" th:fragment="content">
  <h3 class="card-header bg-secondary">Storage</h3>
  <div class="card-body p-0">
    <table class="table table-hover mb-0">
      <thead>
      <tr>
        <th scope="col" class="col-8 col-sm-6">Item</th>
        <th scope="col" class="col-2">Amount</th>
        <th scope="col" class="col-2 d-none d-md-table-cell">Locations</th>
        <th scope="col" class="col-2"></th>
      </tr>
      <tbody>
      <tr>
        <td colspan="4">
          <button type="button" class="btn btn-success" style="width: 100%" data-toggle="modal" data-target="#storeAmountModal">
            Store New
          </button>
        </td>
      </tr>
      <tr th:each="storedItem: ${storedItems}" th:data-item-id="${storedItem.itemName}"
          th:data-item-locations="${storedItem.locationsJson}">
        <th class="align-middle" scope="row" th:text="${storedItem.itemName}"></th>
        <td class="align-middle">
          <span th:text="${storedItem.amountText}"></span>&nbsp;
          <i class="fas fa-pencil-alt text-muted" style="cursor: pointer" data-toggle="modal"
             data-target="#updateMinimumAmountModal"></i>
        </td>
        <td class="align-middle d-none d-md-table-cell" th:text="${storedItem.locationCount}">7</td>
        <td>
          <div class="float-right">
            <button type="button" class="btn btn-warning mr-2" data-toggle="modal" data-target="#takeAmountModal">
              Take
            </button>
            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#storeAmountModal">
              Store
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div th:insert="modal/takeAmount :: content"></div>
  <div th:insert="modal/storeAmount :: content"></div>
  <div th:insert="modal/setMinimumAmount :: content"></div>
</div>

</body>
</html>